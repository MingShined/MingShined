<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>微博发布</title>
    <link rel="stylesheet" href="">
    <style type="text/css">
    * {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .box {
        margin: 50px auto;
        width: 400px;
    }

    textarea {
        padding: 10px;
        width: 400px;
        height: 200px;
    }

    button {
        padding: 5px 8px;
        cursor: pointer;
    }

    .info {
        text-align: center;
    }
    </style>
</head>

<body>
    <div class="box">
        <textarea name=""></textarea>
        <button>发布</button>
        <div class="info" id="info"></div>
    </div>
    <script type="text/javascript">
    window.onload = function() {
        //获取参数
        var text = document.getElementsByTagName('textarea')[0];
        var btn = document.getElementsByTagName('button')[0];
        var info = document.getElementById('info');
        //创建ul节点
        var ul = document.createElement('ul');
        //发布点击事件
        btn.onclick = function() {
            //获取文本内容
            var word = text.value;
            //创建li节点
            var li = document.createElement('li');
            //内容为空时不能发布
            if (word == '') {
                alert('内容不能为空')
                return false;
            }
            //为li节点添加内容
            li.innerHTML = word + '<a style="float:right;" href="#">删除</a>';
            //获取所有ul下li节点
            list = ul.children;
            //把最新的li节点放置在ul内且位置为最前
            ul.insertBefore(li, list[0]);
            //此时清空文本内容
            text.value = '';
            //找到所有a删除标签
            var del = document.getElementById('info').getElementsByTagName('a');
            //遍历每一个a标签添加点击事件
            for (var i = 0; i < del.length; i++) {
                del[i].onclick = function() {
                	//将ul节点下对应a标签的父节点li移除
                    ul.removeChild(this.parentNode);
                }
            }
        }
        //追加ul节点到info盒子里
        info.appendChild(ul);
    }
    </script>
</body>

</html>