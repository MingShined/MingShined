<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>匀速函数初步封装</title>
    <link rel="stylesheet" href="">
    <style type="text/css">
    .box {
        position: absolute;
        width: 200px;
        height: 200px;
        background-color: #eee;
    }
    </style>
</head>

<body>
    <button type="" id="btn1">200</button>
    <button type="" id="btn2">400</button>
    <div class="box" id="box"></div>
    <script type="text/javascript">
    function $(id) {
        return typeof(id) === 'string' ? document.getElementById(id) : id;
    }
    $('btn1').onclick = function() {
        animate($('box'), 200);
    }
    $('btn2').onclick = function() {
        animate($('box'), 400);
    }

    // var arr = [];
    // arr.index = 10;
    // var timer = null;

    function animate(obj, target) {
    	//清除定时器
    	clearInterval(timer);
    	//判断前进还是后退
        var speed = obj.offsetLeft - target < 5 ? 5 : -5;
        //设置定时器
        obj.timer = setInterval(function() {
        	//定义差值变量
            var result = obj.offsetLeft - target;
            //运动公式
            obj.style.left = obj.offsetLeft + speed + 'px';
            //当差值小于清除定时器，同时跳转到目标位置
            if (Math.abs(result) <= 5) {
                clearInterval(obj.timer);
                obj.style.left = target + 'px';
            }
        }, 20);
    }
    </script>
</body>

</html>