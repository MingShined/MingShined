<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>数组的常用方法</title>
	<link rel="stylesheet" href="">
</head>
<body>
	<script type="text/javascript">
		// 一、Array.join 将数组元素连接为字符串，不指定分隔符，默认是逗号
		var arr = ['l','s','r',24];
		var res = arr.join();
		var res = arr.join(':');//指定封号为分隔符
		var res = arr.join('');//指定空为分隔符
		console.log(res);

		// 二、Array.reverse 数组元素反转倒置
		var arr1 = ['l','s','r',24];
		arr1.reverse();
		console.log(arr1);

		/* 三、Array.sort 数组排序函数(没有参数调用时，数字在前(以Unicode为标准)，字母顺序升序排序，如果有undefined，将默认排到数组的尾部) */
		var arr2 = ['l','s','r',24,'A','a','x',11];
		arr2.sort();
		console.log(arr2);

		var arr2 = [1,100,65,3,45,87];
		arr2.sort(function (a,b) {
			// return a-b;//从小到大
			return b-a;//从大到小
		});
		console.log(arr2);

		var person = [
			{
				username:'ming',
				age:15
			},
			{
				username:'li',
				age:25
			},
			{
				username:'si',
				age:35
			},
			{
				username:'rui',
				age:45
			},
		];
		//sort 参数以person数组的username排序
		person.sort(function (a,b) {
			if (a.username > b.username) {return 1;}
			if (a.username < b.username) {return -1;}
			return 0;
		});

		for (index in person) {
			if (person.hasOwnProperty(index)) {
				console.log(person[index]['username']);
			}
		}

		// 四、Array.reverse 创建并返回一个新数组
		var arr3 = [1,2,1];
		var res1 = arr3.concat(4,5,6);
		var res1 = arr3.concat([4,5,6],[7,8,9]);//如果参数是数组，返回的是数组元素而不是数组本身
		console.log(res1);

		// 五、Array.slice 截取数组元素的部分，截取后原数组不会减少
		var arr4 = ['a','b','c','d','e','f','g','h'];
		var res2 = arr4.slice(2,4);//两个参数分别表示起点位置和末尾位置
		res2 = arr4.slice(4,-2);//-2表示从末尾开始倒数
		res2 = arr4.slice(2);//一个参数2表示从当前位置取到末尾
		console.log(res2);
		console.log(arr4);

		/* 六、Array.splice 截取数组元素的部分,截取后原数组会减少
				howMany是整数，表示要移除的数组元素的个数。如果 howmany 是 0，则不移除元素。这种情况下，至少应添加一个新元素。如果 howmany 超出了 index 位之后的元素的总数，则从 index 向后至数组末尾的全部元素都将被删除（含第 index 位）。如果没有指定 howmany 参数（如上第二种语法，是 SpiderMonkey 的扩展功能），将会删除第 index 位之后的所有元素（不含第 index 位）
		 */
		var arr5 = ['a','b','c','d','e','f','g','h'];
		var res3 = arr5.splice(2,4);//两个参数表示起点位置和截取的数量
		res3 = arr5.splice(0,2,'l','s','r');
		console.log(res3);
		console.log(arr5);

		// 七、 Array.map 返回一个由原数组中的每个元素调用一个指定方法后的返回值组成的新数组
		// var ar = ['x!','y!','z','e',2];
		// var b = ar.map(test);
		// function test (n) {
		// 	return n.replace(/!/g,'?').toUpperCase();
		// }
		// console.log(b);

		// 八、Array.filter 按照指定的规则过滤数组中的函数
		var arr6 = [12,54,1,2,12,,78,98,88,4,6,55];
		var i = arr6.filter(function(index) {
			return index < 10;
			// return index % 2 = 0;
			// return (index != undefined && index != null);
		});
		console.log(i);

		// 九、Array.ruduce 接收一个函数作为累加器,数组中的每个值从左到右缩减，最终为一个值
		var arr7 = [1,2,3,4,5,6];
		var inb = arr7.reduceRight(function (a,b) {
			return a + b;
		}, 10);
		console.log(inb);

		// 十、Array.some  Array.every 测试数组中元素是否有些/全部通过了指定函数的测试
		// var o = [58,15,7,45,6,4];
		// var p = o.every(some)(function (x) {
		// 	return x > 18;
		// });
		// console.log(p);

		// 十一、Array.indexOf Array.lastIndexOf 查找数组元素的索引位置
		var r = ['s','a',4,5,7,99,'a',5,4,4,'a'];
		var b = r.indexOf('a',3);//3为起始位置,且查找元素区分大小写
		var q = r.lastIndexOf('a');
		console.log(b); 
		console.log(q); 

		// 十二、isArray 判断是不是数组
		console.log(Array.isArray(r));
		console.log(Array.isArray([]));//空数组也是数组

		// 十三、Array.toString()  返回一个字符串，表示指定的数组及其元素
		var a = ['s','b','p',65,7];
		console.log(a.toString());
	</script>
</body>
</html>